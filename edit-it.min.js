// Generated by CoffeeScript 1.8.0
$.fn.editit = function(event) {
  var $selector, onChange;
  $selector = $(this).selector;
  onChange = function(input) {
    var data;
    data = {};
    data[$(input).attr("name")] = $(input).val();
    return $.post("", data);
  };
  $(document).on(event, $selector, function() {
    var $input;
    if ($($selector).find("input").length) {
      return;
    }
    $input = $("<input type=\"text\" value=\"" + ($(this).html()) + "\"\n    name=\"" + ($(this).data("name")) + "\">");
    $(this).html($input);
    $input.focus().select();
    return $input.on({
      "focusout": function() {
        onChange(this);
        return $(this).closest($selector).html($input.val());
      },
      "change": function() {
        onChange(this);
        return $(this).closest($selector).html($input.val());
      },
      "keypress": function(e) {
        if (e.keyCode === 13) {
          onChange(this);
          return $(this).closest($selector).html($input.val());
        }
      }
    });
  });
  return this;
};
